import{r as l}from"./index.03be2d59.js";import{j as n}from"./jsx-runtime.b9e88e07.js";function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},m.apply(this,arguments)}function M(e,t){if(null==e)return{};var s,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)s=o[r],!(t.indexOf(s)>=0)&&(i[s]=e[s]);return i}var T=["className","prefixCls","element","top","size","strokeWidth","smooth","hideProgress","children"],z={position:"sticky",bottom:15,right:15,visibility:"visible",opacity:0,transition:"visibility 0.3s linear 0s, opacity 0.3s linear 0s",cursor:"pointer",userSelect:"none"},B={display:"block",transform:"rotate(-90deg)"},L={transition:"stroke-dashoffset 0.3s linear 0s"},N={position:"absolute",top:0,display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:12},d=document.documentElement;function H(e){void 0===e&&(e={});var{className:t,prefixCls:s="w-back-to-up",element:r=d,top:i=120,size:o=35,strokeWidth:a=3,smooth:c=!0,hideProgress:f=!1,children:h}=e,u=M(e,T),p=l.useRef(null),y=[t,s].filter(Boolean).join(" "),v=Object.assign({},z,{position:r===d?"fixed":"sticky"},u.style,{width:o,height:o,opacity:0===i?1:0}),b=l.useMemo((()=>o/2),[o]),g=l.useMemo((()=>o/2-a/2),[o,a]),j=l.useMemo((()=>Math.PI*g*2),[g]),[x,k]=l.useState(j||0),O=e=>{var{clientHeight:t,scrollHeight:s,scrollTop:o}=r||d;k(j-j*(o/(s-t))||0),p.current&&i>0&&(p.current.style.opacity=o>i?"1":"0")};l.useEffect((()=>{var e=r===d?document:r;return e&&e.addEventListener("scroll",O,{passive:!0}),()=>{e&&e.removeEventListener("scroll",O)}}),[r]);return n.jsxs("div",m({className:y,ref:p},u,{onClick:e=>{r.scrollTo({top:0,behavior:c?"smooth":"auto"})},style:v,children:[!f&&n.jsxs("svg",{viewBox:"0 0 "+o+" "+o,width:o,height:o,focusable:"false",style:B,children:[n.jsx("circle",{fill:"rgb(0 0 0 / 75%)",stroke:"rgb(200 200 200 / 85%)",strokeWidth:a,r:g,cx:b,cy:b}),n.jsx("circle",{fill:"none",stroke:"rgb(0 0 0 / 50%)",strokeWidth:a,r:g,cx:b,cy:b,strokeDasharray:j,strokeDashoffset:x||0,style:L})]}),h&&n.jsx("div",{style:N,children:h})]}))}export{H as default};